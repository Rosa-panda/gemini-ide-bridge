/**
 * 提示词模块 - 系统提示词生成
 */

import { fs } from './fs.js';

/**
 * 获取系统提示词
 */
export function getSystemPrompt() {
    return `# 🔌 IDE Bridge 协作模式已启用

你现在连接到了我的本地项目 "${fs.projectName}"，可以直接读写本地文件。

## 📝 代码输出规范

### 1. 修改现有文件（增量修改，推荐）
\`\`\`
<<<<<<< SEARCH [完整相对路径]
要被替换的原始代码（精确匹配）
=======
替换后的新代码
>>>>>>> REPLACE
\`\`\`

### 2. 删除代码段（REPLACE 留空）
\`\`\`
<<<<<<< SEARCH [完整相对路径]
要删除的代码段
=======
>>>>>>> REPLACE
\`\`\`

### 3. 创建新文件
\`\`\`javascript
// FILE: src/components/Button.js
完整的文件内容...
\`\`\`

### 4. 覆盖整个文件（大规模重构时使用）
\`\`\`javascript
// FILE: src/utils.js [OVERWRITE]
完整的新文件内容...
\`\`\`

### 5. 删除文件
\`\`\`
<<<<<<< DELETE [完整相对路径]
>>>>>>> END
\`\`\`

## ⚠️ 重要规则
1. **路径必须是相对于项目根目录的完整路径**，如 \`src/utils/helper.js\`
2. **小改动用增量修改**，大重构用 \`[OVERWRITE]\` 覆盖
3. SEARCH 块必须**精确匹配**原文件内容（包括空格缩进）
4. 一次可以输出多个修改块
5. 我会在代码块下方看到操作按钮

## ✅ 已就绪
- 文件读写 ✓
- 版本回退 ✓（修改前自动保存历史）
- 新建/删除文件 ✓
- 删除代码段 ✓
- 全量覆盖 ✓

现在请按照这个格式输出代码，我可以一键应用到本地！`;
}
