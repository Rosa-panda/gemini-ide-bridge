# Gemini IDE Bridge

> 让 Gemini 直接操作你的本地文件系统

一个纯原生 JS 实现的 Chrome 扩展，零依赖，零构建工具链。

## 为什么做这个

Gemini 很强，但每次都要手动复制粘贴代码太蠢了。这个插件让 AI 输出的代码可以一键应用到本地文件，支持增量修改、版本回退、语法检查。

## 特性

- **文件系统桥接** - 基于 File System Access API，浏览器原生能力
- **增量修改** - SEARCH/REPLACE 模式，精确匹配 + 模糊匹配，保守策略
- **语法防护** - 应用前静态分析括号匹配，拦截 AI 的语法错误
- **版本控制** - IndexedDB 持久化，每文件 10 个历史版本
- **依赖分析** - 自动解析 import/require，支持 JS/TS/Python/C++
- **主题适配** - 跟随 Gemini 原生主题，看起来像官方功能

## 安装

```bash
# 没有 npm install，没有 node_modules
# 直接加载到 Chrome 扩展即可
```

1. `chrome://extensions/` → 开发者模式
2. 加载已解压的扩展程序 → 选择本项目

## 使用

1. 打开 [gemini.google.com](https://gemini.google.com)
2. 左下角 `⚡️ IDE` → 连接文件夹
3. `🤖 教导AI` 让 Gemini 学会协作格式

## AI 协作格式

```
<<<<<<< SEARCH [path/to/file.js]
要替换的代码
=======
新代码
>>>>>>> REPLACE
```

```javascript
// FILE: path/to/new-file.js
新文件内容
```

## 架构

```
┌─────────────────────────────────────────────────────────────┐
│                    Gemini 网页 (gemini.google.com)           │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────┐    注入     ┌─────────────────────────┐    │
│  │ content.js  │ ─────────▶ │     ide_core.js         │    │
│  │ (桥接脚本)   │            │  (核心逻辑,运行在页面)    │    │
│  └─────────────┘            └───────────┬─────────────┘    │
│                                         │                   │
│                              ┌──────────▼──────────┐        │
│                              │   侧边栏 UI 组件     │        │
│                              │  - 文件树           │        │
│                              │  - 操作按钮         │        │
│                              └──────────┬──────────┘        │
└─────────────────────────────────────────┼───────────────────┘
                                          │
                          File System Access API
                                          │
                              ┌───────────▼───────────┐
                              │     本地文件系统       │
                              │   (你的项目文件夹)     │
                              └───────────────────────┘
```

## 开发

```bash
node build.js  # 就这一行
```

## License

MIT
